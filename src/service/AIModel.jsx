import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;  
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  }); 
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "\"Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with Hotel Name, Hotel address, Price, hotel image URL, geo coordinates, rating, descriptions and suggest Itinerary with placename, Place Details, Place Image URL, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.\""},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripName\": \"Las Vegas Budget Trip for Couples (3 Days)\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"duration\": \"3 Days\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"hotels\": [\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"priceRange\": \"$50-$100/night (approx.)\",\n      \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/CircusCircusLasVegasSign.jpg/1280px-CircusCircusLasVegasSign.jpg\", \n      \"geoCoordinates\": {\n        \"latitude\": 36.1227,\n        \"longitude\": -115.1765\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, offering affordable rooms and some on-site entertainment. Expect a lively atmosphere.\"\n    },\n    {\n      \"name\": \"Excalibur Hotel & Casino\",\n      \"address\": \"3850 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"priceRange\": \"$60-$120/night (approx.)\",\n      \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Excalibur_Hotel_Casino_Las_Vegas.jpg/1280px-Excalibur_Hotel_Casino_Las_Vegas.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1008,\n        \"longitude\": -115.1727\n      },\n      \"rating\": 3.0,\n      \"description\": \"Medieval-themed hotel and casino, known for its affordability and location on the Strip. Offers a more budget-friendly option with basic amenities.\"      \n    },\n    {\n      \"name\": \"Motel 6 Las Vegas-Tropicana\",\n      \"address\": \"3950 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"priceRange\": \"$40-$80/night (approx.)\",\n      \"imageUrl\": \"https://www.motel6.com/content/dam/motel6/images/property-images/las-vegas-tropicana-exterior-m6lvtn-400x300.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0987,\n        \"longitude\": -115.1724\n      },\n      \"rating\": 2.5,\n      \"description\": \"A basic, no-frills motel offering the cheapest option.  Location is close to the Strip but expect a more simple experience.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Strip Exploration & Free Activities\",\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Free water show with music and lights.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Bellagio_Fountains_at_Night.jpg/1280px-Bellagio_Fountains_at_Night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1113,\n            \"longitude\": -115.1741\n          },\n          \"ticketPrice\": \"Free\",\n          \"travelTime\": \"10 mins walk from most hotels on the Strip\"\n        },\n        {\n          \"placeName\": \"The Mirage Volcano\",\n          \"placeDetails\": \"Free volcano eruption show with fire and special effects.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Mirage_volcano_show_2012.jpg/1280px-Mirage_volcano_show_2012.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1139,\n            \"longitude\": -115.1766\n          },\n          \"ticketPrice\": \"Free\",\n          \"travelTime\": \"15 mins walk from Bellagio\"\n        },\n        {\n          \"placeName\": \"Walk the Las Vegas Strip\",\n          \"placeDetails\": \"Enjoy the sights, sounds and atmosphere of the Strip.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Las_Vegas_Strip_at_night_from_the_High_Roller_observation_wheel.jpg/1280px-Las_Vegas_Strip_at_night_from_the_High_Roller_observation_wheel.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1729\n          },\n          \"ticketPrice\": \"Free\",\n          \"travelTime\": \"Variable, depending on how far you walk.\"\n        }\n      ],\n      \"bestTime\": \"Evening (for the fountain and volcano shows)\"\n    },\n    \"day2\": {\n      \"theme\": \"Free/Cheap Activities & Fremont Street\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Free light show and street performers in Downtown Las Vegas.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Fremont_Street_Experience.jpg/1280px-Fremont_Street_Experience.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1403\n          },\n          \"ticketPrice\": \"Free (some optional paid activities)\",\n          \"travelTime\": \"20-30 mins taxi/rideshare from the Strip\"\n        },\n        {\n          \"placeName\": \"Explore Downtown Las Vegas\",\n          \"placeDetails\": \"Walk around, check out the vintage casinos and shops.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Downtown_Las_Vegas_at_night.jpg/1280px-Downtown_Las_Vegas_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1400\n          },\n          \"ticketPrice\": \"Free\",\n          \"travelTime\": \"Walking distance within Downtown\"\n        },\n        {\n          \"placeName\": \"Happy Hour at a Local Bar\",\n          \"placeDetails\": \"Find affordable drinks and snacks.\",\n          \"imageUrl\": \"Placeholder Image URL\",\n          \"geoCoordinates\": {\n            \"latitude\": null,\n            \"longitude\": null\n          },\n          \"ticketPrice\": \"Variable\",\n          \"travelTime\": \"Variable, depends on bar location\"\n        }\n      ],\n      \"bestTime\": \"Evening (for the Fremont Street Experience)\"\n    },\n    \"day3\": {\n      \"theme\": \"Pool Day & Last-Minute Souvenirs\",\n      \"plan\": [\n        {\n          \"placeName\": \"Hotel Pool (if your hotel has one)\",\n          \"placeDetails\": \"Relax and enjoy a free pool day.\",\n          \"imageUrl\": \"Placeholder Image URL\",\n          \"geoCoordinates\": {\n            \"latitude\": null,\n            \"longitude\": null\n          },\n          \"ticketPrice\": \"Free (if included)\",\n          \"travelTime\": \"0 minutes\"\n        },\n        {\n          \"placeName\": \"Souvenir Shopping (off-Strip)\",\n          \"placeDetails\": \"Find cheaper souvenirs outside the main tourist areas.\",\n          \"imageUrl\": \"Placeholder Image URL\",\n          \"geoCoordinates\": {\n            \"latitude\": null,\n            \"longitude\": null\n          },\n          \"ticketPrice\": \"Variable\",\n          \"travelTime\": \"Variable, depending on location\"\n        },        \n      ],\n      \"bestTime\": \"Afternoon\"\n    }\n  }\n}\n```\n\n**Note:**  Image URLs are placeholders in some cases.  You will need to find appropriate images and replace these.  Hotel prices are approximate and can vary greatly depending on the season and availability. Remember to check current prices and opening times before your trip.  Also consider using public transportation (buses) or walking to reduce costs.  This itinerary prioritizes free and cheap activities to suit a budget trip.\n"},
          ],
        },
      ],
    });
  
  
  
